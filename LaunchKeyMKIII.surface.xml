<?xml version="1.0" encoding="UTF-8"?>
<ControlSurface>
    <Controls>
        <!-- Row 1 -->
        <Control name="sessionHigherPad[0]"          type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="96" options="through" /> </Control>
        <Control name="sessionHigherPadLED[0]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="96" /> </Control>
        <Control name="sessionHigherPadState[0]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[0]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[1]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="97" options="through" /> </Control>
        <Control name="sessionHigherPadLED[1]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="97" /> </Control>
        <Control name="sessionHigherPadState[1]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[1]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[2]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="98" options="through" /> </Control>
        <Control name="sessionHigherPadLED[2]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="98" /> </Control>
        <Control name="sessionHigherPadState[2]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[2]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[3]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="99" options="through" /> </Control>
        <Control name="sessionHigherPadLED[3]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="99" /> </Control>
        <Control name="sessionHigherPadState[3]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[3]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[4]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="100" options="through" /> </Control>
        <Control name="sessionHigherPadLED[4]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="100" /> </Control>
        <Control name="sessionHigherPadState[4]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[4]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[5]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="101" options="through" /> </Control>
        <Control name="sessionHigherPadLED[5]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="101" /> </Control>
        <Control name="sessionHigherPadState[5]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[5]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[6]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="102" options="through" /> </Control>
        <Control name="sessionHigherPadLED[6]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="102" /> </Control>
        <Control name="sessionHigherPadState[6]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[6]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[7]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="103" options="through" /> </Control>
        <Control name="sessionHigherPadLED[7]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="103" /> </Control>
        <Control name="sessionHigherPadState[7]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[7]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <!-- Row 2 -->
        <Control name="sessionLowerPad[0]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="112" options="through"/> </Control>
        <Control name="sessionLowerPadLED[0]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="112" /> </Control>
        <Control name="sessionLowerPadState[0]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[0]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[1]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="113" options="through"/> </Control>
        <Control name="sessionLowerPadLED[1]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="113" /> </Control>
        <Control name="sessionLowerPadState[1]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[1]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[2]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="114" options="through"/> </Control>
        <Control name="sessionLowerPadLED[2]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="114" /> </Control>
        <Control name="sessionLowerPadState[2]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[2]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[3]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="115" options="through"/> </Control>
        <Control name="sessionLowerPadLED[3]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="115" /> </Control>
        <Control name="sessionLowerPadState[3]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[3]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[4]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="116" options="through"/> </Control>
        <Control name="sessionLowerPadLED[4]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="116" /> </Control>
        <Control name="sessionLowerPadState[4]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[4]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[5]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="117" options="through"/> </Control>
        <Control name="sessionLowerPadLED[5]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="117" /> </Control>
        <Control name="sessionLowerPadState[5]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[5]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[6]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="118" options="through"/> </Control>
        <Control name="sessionLowerPadLED[6]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="118" /> </Control>
        <Control name="sessionLowerPadState[6]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[6]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[7]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="119" options="through"/> </Control>
        <Control name="sessionLowerPadLED[7]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="119" /> </Control>
        <Control name="sessionLowerPadState[7]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[7]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>


        <!-- NOTE DRUM PADS Row 1 -->
        <Control name="drumPad[0]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="36" options="through" /> </Control>
        <Control name="drumPadLED[0]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="36" /> </Control>
        <Control name="drumPadState[0]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[0]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[1]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="37" options="through" /> </Control>
        <Control name="drumPadLED[1]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="37" /> </Control>
        <Control name="drumPadState[1]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[1]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[2]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="38" options="through" /> </Control>
        <Control name="drumPadLED[2]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="38" /> </Control>
        <Control name="drumPadState[2]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[2]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[3]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="39" options="through" /> </Control>
        <Control name="drumPadLED[3]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="39" /> </Control>
        <Control name="drumPadState[3]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[3]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[4]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="40" options="through" /> </Control>
        <Control name="drumPadLED[4]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="40" /> </Control>
        <Control name="drumPadState[4]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[4]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[5]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="41" options="through" /> </Control>
        <Control name="drumPadLED[5]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="41" /> </Control>
        <Control name="drumPadState[5]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[5]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[6]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="42" options="through" /> </Control>
        <Control name="drumPadLED[6]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="42" /> </Control>
        <Control name="drumPadState[6]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[6]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[7]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="43" options="through" /> </Control>
        <Control name="drumPadLED[7]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="43" /> </Control>
        <Control name="drumPadState[7]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[7]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[8]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="44" options="through"/> </Control>
        <Control name="drumPadLED[8]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="44" /> </Control>
        <Control name="drumPadState[8]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[8]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[9]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="45" options="through"/> </Control>
        <Control name="drumPadLED[9]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="45" /> </Control>
        <Control name="drumPadState[9]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[9]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[10]"	                type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="46" options="through"/> </Control>
        <Control name="drumPadLED[10]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="46" /> </Control>
        <Control name="drumPadState[10]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[10]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[11]"                 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="47" options="through"/> </Control>
        <Control name="drumPadLED[11]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="47" /> </Control>
        <Control name="drumPadState[11]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[11]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[12]"	                type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="48" options="through"/> </Control>
        <Control name="drumPadLED[12]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="48" /> </Control>
        <Control name="drumPadState[12]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[12]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[13]"	                type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="49" options="through"/> </Control>
        <Control name="drumPadLED[13]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="49" /> </Control>
        <Control name="drumPadState[13]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[13]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[14]"	                type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="50" options="through"/> </Control>
        <Control name="drumPadLED[14]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="50" /> </Control>
        <Control name="drumPadState[14]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[14]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[15]"	                type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="51" options="through"/> </Control>
        <Control name="drumPadLED[15]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="51" /> </Control>
        <Control name="drumPadState[15]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[15]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="knob[0]" title="Tempo" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#15" />
        </Control>
        <Control name="knob[1]" title="Swing" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#16" />
        </Control>
        <Control name="knob[2]" title="Gate" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#17" />
        </Control>
        <Control name="knob[3]" title="Mutate" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#18" />
        </Control>
        <Control name="knob[4]" title="Deviate" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#19" />
        </Control>
        <Control name="knob[5]" title="Knob 6" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#1A" />
        </Control>
        <Control name="knob[6]" title="Knob 7" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#1B" />
        </Control>
        <Control name="knob[7]" title="Knob 8" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#1C" />
        </Control>

        <Control name="devicePadMode" title="Device Pad Mode" options="receive">
            <MidiMessage status="Controller" address="3" />
        </Control>

        <Control name="devicePotMode" title="Device Knob Mode" options="receive">
            <MidiMessage status="Controller" address="9" />
        </Control>

        <Control name="shift" title="Shift" options="receive" type="button">
            <MidiMessage status="Controller" address="108" />
        </Control>

        <Control name="scene" title="Scene Launch" options="receive" type="toggle">
            <MidiMessage status="Controller" address="104" />
        </Control>
        <Control name="sceneLED" options="transmit"> <Handler class="ColorLEDHandler" status="176" address="104" /> </Control>
        <Control name="sceneEffect" options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="ssm" title="Stop Solo Mute" options="receive" type="toggle">
            <MidiMessage status="Controller" address="105" />
        </Control>
        <Control name="ssmLED" options="transmit"> <Handler class="ColorLEDHandler" status="176" address="105" /> </Control>
        <Control name="ssmEffect" options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="arp" title="ARP" options="receive public" type="trigger">
            <MidiMessage status="Controller" address="103" />
        </Control>
        <Control name="arpLED" options="transmit">
            <Handler class="MonoLEDHandler" address="103" />
        </Control>

        <Control name="f_chord" title="Fixed Chord" options="receive public" type="trigger">
            <MidiMessage status="Controller" address="102" />
        </Control>
        <Control name="f_chordLED" options="transmit">
            <Handler class="MonoLEDHandler" address="102" />
        </Control>

        <Control name="play" options="receive" type="button">
            <MidiMessage status="Controller" address="115" />
        </Control>
        <Control name="playLED" options="transmit">
             <Handler class="MonoLEDHandler" address="115" />
        </Control>
        <Control name="record" options="receive" type="button">
            <MidiMessage status="Controller" address="117" />
        </Control>
        <Control name="recordLED" options="transmit">
            <Handler class="MonoLEDHandler" address="117" />
        </Control>

        <Control name="program_up" title="Program Up" options="receive" type="trigger">
            <MidiMessage status="#C0" />
        </Control>
        <Control name="program_down" title="Program Down" options="receive" type="trigger">
            <MidiMessage status="#C0" />
        </Control>

		<Control name="timeCode" options="transmit fastupdate" />
    </Controls>

    <Mappings>
        <!-- definitions to use symbolic names (must be kept in sync with script!) -->
        <define name="$PLAY_MODE" value="0" />
        <define name="$SETUP_MODE" value="1" />
        <define name="$LOOP_EDIT_MODE" value="2" />
        <define name="$EVENT_EDIT_MODE" value="3" />
        <define name="$INSTRUMENT_EDIT_MODE" value="4" />
        <define name="$BANK_MENU_MODE" value="5" />
        <define name="$REPEAT_MENU_MODE" value="6" />
        <define name="$PITCH_MENU_MODE" value="7" />
        <define name="$RATE_TRIGGER_MODE" value="8" />
        <define name="$STEP_EDIT_MODE" value="9" />
        <define name="$HUI_MODE" value="10" />
        <define name="$RESTORE_PLAY_MODE" value="11" />

        <define name="$DEVICE_PAD_MODE_SESSION" value="2" />
        <define name="$DEVICE_PAD_MODE_DRUM" value="1" />
        <define name="$DEVICE_PAD_MODE_CUSTOM" value="0" />

        <define name="$DEVICE_POT_MODE_DEVICE" value="2" />
        <define name="$DEVICE_POT_MODE_VOLUME" value="1" />
        <define name="$DEVICE_POT_MODE_PAN" value="3" />
        <define name="$DEVICE_POT_MODE_SEND" value="4" />
        <define name="$DEVICE_POT_MODE_CUSTOM" value="0" />

        <define name="$HUI_MONITOR_MODE" value="0" />
        <define name="$HUI_SOLO_MODE" value="1" />
        <define name="$HUI_MUTE_MODE" value="2" />

        <define name="$HUI_ROW[0]" value="8" />

        <!-- ******************************************************************************************** -->
        <!-- GENERIC MAPPING (used for "on the fly" control assignment) -->
        <!-- ******************************************************************************************** -->
        <GenericMapping>
            <Bank>
                <Strip name="knob[0]"><Relative control="knob[0]" param="value" options="above"/></Strip>
                <Strip name="knob[1]"><Relative control="knob[1]" param="value" options="above"/></Strip>
                <Strip name="knob[2]"><Relative control="knob[2]" param="value" options="above"/></Strip>
                <Strip name="knob[3]"><Relative control="knob[3]" param="value" options="above"/></Strip>
                <Strip name="knob[4]"><Relative control="knob[4]" param="value" options="above"/></Strip>
                <Strip name="knob[5]"><Relative control="knob[5]" param="value" options="above"/></Strip>
                <Strip name="knob[6]"><Relative control="knob[6]" param="value" options="above"/></Strip>
                <Strip name="knob[7]"><Relative control="knob[7]" param="value" options="above"/></Strip>
            </Bank>
        </GenericMapping>


        <!-- ******************************************************************************************** -->
        <!-- NOTE PAD SECTION -->
        <!-- ******************************************************************************************** -->
        <PadSection name="PadSessionSectionElement" rows="2" roles="stepedit">
            <foreach variable="$i" count="8">
                <Pad name="sessionHigherPad[$i]" control="sessionHigherPad[$i]">
                    <Value control="sessionHigherPadState[$i]" param="state" />
                    <PlainValue control="sessionHigherPadLED[$i]" param="color" />
                </Pad>
            </foreach>
            <foreach variable="$i" count="8">
                <Pad name="sessionLowerPad[$i]" control="sessionLowerPad[$i]">
                    <Value control="sessionLowerPadState[$i]" param="state" />
                    <PlainValue control="sessionLowerPadLED[$i]" param="color" />
                </Pad>
            </foreach>
        </PadSection>

        <PadSection name="PadDrumSectionElement" rows="2" roles="musicinput">
            <foreach variable="$i" count="16">
                <Pad name="drumPad[$i]" control="drumPad[$i]">
                    <Value control="drumPadState[$i]" param="state" />
                    <PlainValue control="drumPadLED[$i]" param="color" />
                </Pad>
            </foreach>
        </PadSection>


        <!-- ******************************************************************************************** -->
        <!-- NOTE MIXER CONSOLE -->
        <!-- ******************************************************************************************** -->
        <DeviceMapping device="MixerConsole" name="MixerMapping">
            <ScrollBank target="FollowBank" name="FocusBankElement">
                <Strip />
            </ScrollBank>

            <ParamVariant using="@global" param="sessionMode">
                <Group value="$HUI_MODE">
                    <PlacementBank target="RemoteBank" pagesize="8">
                        <!-- The Channel Strips -->
                        <foreach variable="$channel" count="8">
                            <Strip>
                                <ParamVariant using="@global" param="devicePotMode">
                                    <Group value="$DEVICE_POT_MODE_VOLUME">
                                        <Value control="knob[$channel]" param="volume"/>
                                    </Group>
                                    <Group value="$DEVICE_POT_MODE_PAN">
                                        <Value control="knob[$channel]" param="pan"/>
                                    </Group>
                                </ParamVariant>


                                <using device="@global">
                                    <Value control="sessionHigherPadState[$channel]" param="padFocusMode" />
                                    <Value control="sessionLowerPadState[$channel]" param="padFocusMode" />
                                </using>

                                <!-- SELECTION -->
                                <Toggle control="sessionHigherPad[$channel]" param="selected" />
                                <ParamVariant param="selected">
                                    <using device="@global"><PlainValue control="sessionHigherPadLED[$channel]" param="DARK_GREY" /></using>
                                    <using device="@global"><PlainValue control="sessionHigherPadLED[$channel]" param="WHITE" /></using>
                                </ParamVariant>

                                <!-- HUI MODE -->
                                <ParamVariant using="@global" param="huiSSMMode">

                                    <Group value="$HUI_MONITOR_MODE">
                                        <using device="@global">
                                            <Radio control="ssm" param="huiSSMMode" value="$HUI_SOLO_MODE" options="toggle" />
                                            <PlainValue control="ssmLED" param="BLUE" />
                                        </using>
                                        <Toggle control="sessionLowerPad[$channel]" param="monitor" />
                                        <ParamVariant param="monitor">
                                            <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="SKY_BLUE_DIMMED" /></using>
                                            <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="SKY_BLUE" /></using>
                                        </ParamVariant>
                                    </Group>
                                    <Group value="$HUI_SOLO_MODE">
                                        <using device="@global">
                                            <Radio control="ssm" param="huiSSMMode" value="$HUI_MUTE_MODE" options="toggle" />
                                            <PlainValue control="ssmLED" param="YELLOW" />
                                        </using>
                                        <Toggle control="sessionLowerPad[$channel]" param="solo" />
                                        <ParamVariant param="solo">
                                            <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="YELLOW_DIMMED" /></using>
                                            <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="YELLOW" /></using>
                                        </ParamVariant>
                                    </Group>
                                    <Group value="$HUI_MUTE_MODE">
                                        <using device="@global">
                                            <Radio control="ssm" param="huiSSMMode" value="$HUI_MONITOR_MODE" options="toggle" />
                                            <PlainValue control="ssmLED" param="RED" />
                                        </using>
                                        <Toggle control="sessionLowerPad[$channel]" param="mute" />
                                        <ParamVariant param="mute">
                                            <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="RED_DIMMED" /></using>
                                            <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="RED" /></using>
                                        </ParamVariant>
                                    </Group>
                                </ParamVariant>

                            </Strip>
                        </foreach>
                    </PlacementBank>
                </Group>
            </ParamVariant>
        </DeviceMapping>


        <!-- ******************************************************************************************** -->
        <!-- NOTE REPEAT MAPPING -->
        <!-- ******************************************************************************************** -->
        <DeviceMapping name="NoteRepeatElement" device="NoteRepeater" onConnect="onConnectNoteRepeat">
            <ParamInvoke param="active" onChanged="onActivateNoteRepeat" />
            <ParamInvoke param="spread" onChanged="onSpreadModeChanged" />

            <ParamVariant param="active">
                <Group />
                <Group>
                    <Relative control="knob[0]" param="rate" />
                    <Relative control="knob[1]" param="gate" />
                    <Relative control="knob[2]" param="quantize" />
                    <Relative control="knob[3]" param="pressureHandling" />
                </Group>
            </ParamVariant>
        </DeviceMapping>


        <!-- ******************************************************************************************** -->
        <!-- GLOBAL MAPPING -->
        <!-- ******************************************************************************************** -->
        <Global>

            <Toggle control="shift" param="shiftModifier" options="nonlatching" />
            <Invoke control="devicePadMode" onReceive="onDevicePadModeChanged" />
            <Invoke control="devicePotMode" onReceive="onDevicePotModeChanged" />

            <ParamVariant param="shiftModifier">
                <Group />
                <Group />
            </ParamVariant>

            <!-- ******************************************************************************************** -->
            <!-- SCENE MODES -->
            <!-- ******************************************************************************************** -->
            <ParamVariant param="devicePadMode" strict="true">

                <Group value="$DEVICE_PAD_MODE_SESSION">
                    <ParamVariant param="sessionMode" strict="true">

                        <Group value="$STEP_EDIT_MODE,$LOOP_EDIT_MODE,$EVENT_EDIT_MODE,$INSTRUMENT_EDIT_MODE" default="true">

                            <ParamVariant param="shiftModifier">
                                <Group>
                                    <Command control="scene" command.category="Navigation" command.name="Up" options="autorepeat"/>
                                    <Command control="ssm" command.category="Navigation" command.name="Down" options="autorepeat"/>
                                </Group>
                                <Group>
                                    <Radio control="scene" param="sessionMode" value="$HUI_MODE" options="toggle" />
                                </Group>
                            </ParamVariant>

                            <PlainValue control="sceneLED" param="YELLOW_HALF" />

                            <Toggle control="arp" param="subModifier" options="latching" />
                            <Value control="arpLED" param="subModifier" />
                            <!-- <ParamVariant param="subModifier">
                                <PlainValue control="arpLED" param="MONO_OFF" />
                                <PlainValue control="arpLED" param="MONO_FULL" />
                            </ParamVariant> -->
                            <!-- <ParamVariant param="shiftModifier">
                                <Toggle control="ssm" param="subModifier" options="nonlatching" />
                                <Command control="ssm" command.category="Transport" command.name="Toggle Loop" />

                            </ParamVariant> -->

                            <ParamVariant using="device:///TransportPanel" param="loop">
                                <PlainValue control="ssmLED" param="MONO_OFF" />
                                <PlainValue control="ssmLED" param="YELLOW_HALF" />
                            </ParamVariant>

                        </Group>

                        <Group value="$HUI_MODE">
                            <ParamVariant param="shiftModifier">
                                <Group />
                                <Radio control="scene" param="sessionMode" value="$SETUP_MODE" options="toggle" />
                            </ParamVariant>

                            <PlainValue control="sceneLED" param="AQUA" />
                        </Group>

                        <Group value="$SETUP_MODE">
                            <ParamVariant param="shiftModifier">
                                <Group />
                                <Radio control="scene" param="sessionMode" value="$BANK_MENU_MODE" options="toggle" />
                            </ParamVariant>

                            <PlainValue control="sceneLED" param="BLUE" />
                            <PlainValue control="sessionLowerPadEffect[0]" param="EFFECT_PULSE" />
                            <PlainValue control="sessionLowerPadEffect[7]" param="EFFECT_BLINK" />

                            <Command control="ssm" command.category="Transport" command.name="Toggle Loop" />

                            <using device="device:///TransportPanel">
                                <Value control="knob[0]" param="tempo" />
                            </using>
                            <ParamVariant using="device:///TransportPanel" param="loop">
                                <PlainValue control="ssmLED" param="MONO_OFF" />
                                <PlainValue control="ssmLED" param="YELLOW_HALF" />
                            </ParamVariant>
                        </Group>

                        <Group value="$BANK_MENU_MODE">
                            <ParamVariant param="shiftModifier">
                                <Group/>
                                <Invoke control="scene" onReceive="onEditorButtonPressed" />
                            </ParamVariant>
                            <PlainValue control="sceneLED" param="GREEN_HALF" />
                        </Group>

                    </ParamVariant>
                </Group>

                <Group value="$DEVICE_PAD_MODE_DRUM">

                    <ParamVariant param="shiftModifier">
                        <Group>
                            <Command control="scene" command.category="Navigation" command.name="Up" options="autorepeat"/>
                            <Command control="ssm" command.category="Navigation" command.name="Down" options="autorepeat"/>
                        </Group>
                        <Group>
                            <Toggle control="scene" param="fullVelocityMode" />
                        </Group>
                    </ParamVariant>

                    <!-- ARP is only sent when shift is enabled -->
                    <Invoke control="arp" onReceive="togglePadDisplayMode" />
                    <ParamVariant param="padDisplayMode">
                        <PlainValue control="arpLED" param="MONO_OFF" />
                        <PlainValue control="arpLED" param="MONO_HALF" />
                        <PlainValue control="arpLED" param="MONO_FULL" />
                    </ParamVariant>

                    <ParamVariant param="fullVelocityMode">
                        <PlainValue control="sceneLED" param="MONO_OFF" />
                        <Group>
                            <PlainValue control="sceneLED" param="PURPLE" />
                            <PlainValue control="sceneEffect" param="EFFECT_PULSE" />
                        </Group>
                    </ParamVariant>

                </Group>

                <Group value="$DEVICE_PAD_MODE_CUSTOM">

                </Group>

            </ParamVariant>



            <!-- ******************************************************************************************** -->
            <!-- GROUPED PAD MODE MAPPING -->
            <!-- ******************************************************************************************** -->
            <!-- <ParamVariant param="sessionMode" strict="true">

                <Group value="$PLAY_MODE,$RATE_TRIGGER_MODE">
                </Group>

                <Group value="$LOOP_EDIT_MODE,$EVENT_EDIT_MODE,$INSTRUMENT_EDIT_MODE,$STEP_EDIT_MODE">
                </Group>

            </ParamVariant> -->

        </Global>

        <!-- ******************************************************************************************** -->
        <!-- NOTE TRANSPORT PANEL -->
        <!-- ******************************************************************************************** -->
        <DeviceMapping device="TransportPanel">
            <Segmented control="timeCode" param="primaryTime"/>

            <ParamVariant using="@global" param="shiftModifier">
                <Group>
                    <Command control="play" command.category="Transport" command.name="Toggle Start" />
                    <Value control="playLED" param="start" />
                    <Command control="record" command.category="Transport" command.name="Record" />
                    <Value control="recordLED" param="record" />
                </Group>
                <Group>
                    <Value control="playLED" param="start" />
                    <ParamVariant param="loop">
                        <Group>
                            <Command control="play" command.category="Transport" command.name="Return to Zero"/>
                        </Group>
                        <Group>
                            <Command control="play" command.category="Transport" command.name="Goto Loop Start"/>
                        </Group>
                    </ParamVariant>
                </Group>
            </ParamVariant>
        </DeviceMapping>

        <!-- ******************************************************************************************** -->
        <!-- NOTE METRONOME MAPPING -->
        <!-- ******************************************************************************************** -->
        <DeviceMapping name="MetronomeElement" device="Metronome">
            <ParamVariant using="@global" param="sessionMode" strict="true">
                <Group value="$SETUP_MODE">
                    <ParamVariant param="clickOn">
                        <using device="@global"> <PlainValue control="sessionLowerPadLED[4]" param="YELLOW_HALF" /> </using>
                        <using device="@global"> <PlainValue control="sessionLowerPadLED[4]" param="GREEN_HALF" /> </using>
                    </ParamVariant>
                    <ParamVariant param="precount">
                        <using device="@global"> <PlainValue control="sessionLowerPadLED[5]" param="YELLOW_HALF" /> </using>
                        <using device="@global"> <PlainValue control="sessionLowerPadLED[5]" param="GREEN" /> </using>
                    </ParamVariant>
                </Group>
            </ParamVariant>
        </DeviceMapping>
    </Mappings>
</ControlSurface>
