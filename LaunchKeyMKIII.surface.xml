<?xml version="1.0" encoding="UTF-8"?>
<ControlSurface>
    <Controls>
        <!-- Row 1 -->
        <Control name="sessionHigherPad[0]"          type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="96" options="through" /> </Control>
        <Control name="sessionHigherPadLED[0]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="96" /> </Control>
        <Control name="sessionHigherPadState[0]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[0]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[1]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="97" options="through" /> </Control>
        <Control name="sessionHigherPadLED[1]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="97" /> </Control>
        <Control name="sessionHigherPadState[1]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[1]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[2]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="98" options="through" /> </Control>
        <Control name="sessionHigherPadLED[2]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="98" /> </Control>
        <Control name="sessionHigherPadState[2]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[2]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[3]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="99" options="through" /> </Control>
        <Control name="sessionHigherPadLED[3]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="99" /> </Control>
        <Control name="sessionHigherPadState[3]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[3]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[4]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="100" options="through" /> </Control>
        <Control name="sessionHigherPadLED[4]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="100" /> </Control>
        <Control name="sessionHigherPadState[4]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[4]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[5]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="101" options="through" /> </Control>
        <Control name="sessionHigherPadLED[5]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="101" /> </Control>
        <Control name="sessionHigherPadState[5]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[5]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[6]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="102" options="through" /> </Control>
        <Control name="sessionHigherPadLED[6]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="102" /> </Control>
        <Control name="sessionHigherPadState[6]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[6]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionHigherPad[7]"			 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="103" options="through" /> </Control>
        <Control name="sessionHigherPadLED[7]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="103" /> </Control>
        <Control name="sessionHigherPadState[7]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionHigherPadEffect[7]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <!-- Row 2 -->
        <Control name="sessionLowerPad[0]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="112" options="through"/> </Control>
        <Control name="sessionLowerPadLED[0]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="112" /> </Control>
        <Control name="sessionLowerPadState[0]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[0]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[1]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="113" options="through"/> </Control>
        <Control name="sessionLowerPadLED[1]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="113" /> </Control>
        <Control name="sessionLowerPadState[1]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[1]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[2]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="114" options="through"/> </Control>
        <Control name="sessionLowerPadLED[2]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="114" /> </Control>
        <Control name="sessionLowerPadState[2]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[2]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[3]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="115" options="through"/> </Control>
        <Control name="sessionLowerPadLED[3]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="115" /> </Control>
        <Control name="sessionLowerPadState[3]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[3]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[4]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="116" options="through"/> </Control>
        <Control name="sessionLowerPadLED[4]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="116" /> </Control>
        <Control name="sessionLowerPadState[4]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[4]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[5]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="117" options="through"/> </Control>
        <Control name="sessionLowerPadLED[5]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="117" /> </Control>
        <Control name="sessionLowerPadState[5]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[5]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[6]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="118" options="through"/> </Control>
        <Control name="sessionLowerPadLED[6]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="118" /> </Control>
        <Control name="sessionLowerPadState[6]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[6]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="sessionLowerPad[7]"			type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="119" options="through"/> </Control>
        <Control name="sessionLowerPadLED[7]"       type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="144" address="119" /> </Control>
        <Control name="sessionLowerPadState[7]"     options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="sessionLowerPadEffect[7]"    options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>


        <Control name="drumPad[0]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="36" options="through" /> </Control>
        <Control name="drumPadLED[0]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="36" /> </Control>
        <Control name="drumPadState[0]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[0]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[1]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="37" options="through" /> </Control>
        <Control name="drumPadLED[1]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="37" /> </Control>
        <Control name="drumPadState[1]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[1]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[2]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="38" options="through" /> </Control>
        <Control name="drumPadLED[2]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="38" /> </Control>
        <Control name="drumPadState[2]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[2]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[3]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="39" options="through" /> </Control>
        <Control name="drumPadLED[3]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="39" /> </Control>
        <Control name="drumPadState[3]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[3]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[4]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="40" options="through" /> </Control>
        <Control name="drumPadLED[4]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="40" /> </Control>
        <Control name="drumPadState[4]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[4]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[5]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="41" options="through" /> </Control>
        <Control name="drumPadLED[5]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="41" /> </Control>
        <Control name="drumPadState[5]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[5]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[6]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="42" options="through" /> </Control>
        <Control name="drumPadLED[6]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="42" /> </Control>
        <Control name="drumPadState[6]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[6]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[7]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="43" options="through" /> </Control>
        <Control name="drumPadLED[7]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="43" /> </Control>
        <Control name="drumPadState[7]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[7]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[8]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="44" options="through"/> </Control>
        <Control name="drumPadLED[8]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="44" /> </Control>
        <Control name="drumPadState[8]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[8]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[9]"                  type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="45" options="through"/> </Control>
        <Control name="drumPadLED[9]"               type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="45" /> </Control>
        <Control name="drumPadState[9]"             options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[9]"            options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[10]"	                type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="46" options="through"/> </Control>
        <Control name="drumPadLED[10]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="46" /> </Control>
        <Control name="drumPadState[10]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[10]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[11]"                 type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="47" options="through"/> </Control>
        <Control name="drumPadLED[11]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="47" /> </Control>
        <Control name="drumPadState[11]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[11]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[12]"	                type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="48" options="through"/> </Control>
        <Control name="drumPadLED[12]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="48" /> </Control>
        <Control name="drumPadState[12]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[12]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[13]"	                type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="49" options="through"/> </Control>
        <Control name="drumPadLED[13]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="49" /> </Control>
        <Control name="drumPadState[13]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[13]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[14]"	                type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="50" options="through"/> </Control>
        <Control name="drumPadLED[14]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="50" /> </Control>
        <Control name="drumPadState[14]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[14]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="drumPad[15]"	                type="trigger" options="receive"> <MidiMessage status="NoteTrigger" address="51" options="through"/> </Control>
        <Control name="drumPadLED[15]"              type="rgb" options="transmit fastupdate"> <Handler class="ColorLEDHandler" status="153" address="51" /> </Control>
        <Control name="drumPadState[15]"            options="transmit fastupdate"> <Handler class="ColorStateHandler" /> </Control>
        <Control name="drumPadEffect[15]"           options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="knob[0]" title="Tempo" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#15" />
        </Control>
        <Control name="knob[1]" title="Swing" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#16" />
        </Control>
        <Control name="knob[2]" title="Gate" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#17" />
        </Control>
        <Control name="knob[3]" title="Mutate" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#18" />
        </Control>
        <Control name="knob[4]" title="Deviate" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#19" />
        </Control>
        <Control name="knob[5]" title="Knob 6" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#1A" />
        </Control>
        <Control name="knob[6]" title="Knob 7" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#1B" />
        </Control>
        <Control name="knob[7]" title="Knob 8" type="knob" options="receive public">
            <MidiMessage status="Controller" address="#1C" />
        </Control>

        <Control name="devicePadMode" title="Device Pad Mode" options="transmit receive">
            <MidiMessage status="#B0" channel="15" address="3" />
        </Control>

        <Control name="devicePotMode" title="Device Pot Mode" options="transmit receive">
            <MidiMessage status="#B0" channel="15" address="9" />
        </Control>

        <Control name="shift" title="Shift" options="receive" type="button">
            <MidiMessage status="Controller" address="108" />
        </Control>

        <Control name="sceneHold" title="Scene" options="receive" type="button">
            <Handler class="ButtonHoldHandler" status="#B0" address="#68" />
        </Control>
        <Control name="scene" title="Scene" options="receive" type="trigger">
            <Handler class="ButtonHandler" bind="sceneHold" status="#B0" address="#68" />
        </Control>
        <Control name="sceneLED" options="transmit"> <Handler class="ColorLEDHandler" status="176" address="104" /> </Control>
        <Control name="sceneEffect" options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>


        <Control name="ssm" title="Stop Solo Mute" options="receive" type="trigger">
            <MidiMessage status="Controller" address="105" />
        </Control>
        <Control name="ssmLED" options="transmit"> <Handler class="ColorLEDHandler" status="176" address="105" /> </Control>
        <Control name="ssmEffect" options="transmit fastupdate"> <Handler class="ColorEffectHandler" /> </Control>

        <Control name="arp" title="ARP" options="receive public" type="trigger">
            <MidiMessage status="Controller" address="103" />
        </Control>
        <Control name="arpLED" options="transmit">
            <Handler class="MonoLEDHandler" address="103" />
        </Control>

        <Control name="f_chord" title="Fixed Chord" options="receive public" type="trigger">
            <MidiMessage status="Controller" address="102" />
        </Control>
        <Control name="f_chordLED" options="transmit">
            <Handler class="MonoLEDHandler" address="102" />
        </Control>

        <Control name="play" options="receive" type="button">
            <MidiMessage status="Controller" address="115" />
        </Control>
        <Control name="playLED" options="transmit">
             <Handler class="MonoLEDHandler" address="115" />
        </Control>
        <Control name="record" options="receive" type="button">
            <MidiMessage status="Controller" address="117" />
        </Control>
        <Control name="recordLED" options="transmit">
            <Handler class="MonoLEDHandler" address="117" />
        </Control>

        <Control name="program" title="Program Up / Down" options="transmit receive">
            <MidiMessage status="#C0" options="" />
        </Control>

		<Control name="timeCode" options="transmit fastupdate" />
        <Control name="assignmentDisplay" options="transmit" />
    </Controls>

    <Mappings>
        <!-- definitions to use symbolic names (must be kept in sync with script!) -->
        <define name="$DRUM[PLAY_MODE]" value="0" />
        <define name="$DRUM[RATE_TRIGGER_MODE]" value="1" />
        <define name="$DRUM[REPEAT_MENU_MODE]" value="2" />

        <define name="$SESSION[STEP_EDIT_MODE]" value="0" />
        <define name="$SESSION[EVENT_EDIT_MODE]" value="1" />
        <define name="$SESSION[SETUP_MODE]" value="2" />
        <define name="$SESSION[BANK_MENU_MODE]" value="3" />
        <define name="$SESSION[HUI_MODE]" value="4" />
        <define name="$SESSION[LOOP_EDIT_MODE]" value="5" />
        <define name="$SESSION[INSTRUMENT_EDIT_MODE]" value="6" />

        <define name="$DEVICE_PAD_MODE_SESSION" value="2" />
        <define name="$DEVICE_PAD_MODE_DRUM" value="1" />
        <define name="$DEVICE_PAD_MODE_CUSTOM" value="0" />

        <define name="$DEVICE_POT_MODE_DEVICE" value="2" />
        <define name="$DEVICE_POT_MODE_VOLUME" value="1" />
        <define name="$DEVICE_POT_MODE_PAN" value="3" />
        <define name="$DEVICE_POT_MODE_SEND" value="4" />
        <define name="$DEVICE_POT_MODE_CUSTOM" value="0" />

        <define name="$HUI_MONITOR_MODE" value="0" />
        <define name="$HUI_ARM_MODE" value="1" />
        <define name="$HUI_SOLO_MODE" value="2" />
        <define name="$HUI_MUTE_MODE" value="3" />

        <!-- ******************************************************************************************** -->
        <!-- GENERIC MAPPING (used for "on the fly" control assignment) -->
        <!-- ******************************************************************************************** -->
        <!-- PlacementBank | ScrollBank -->
        <!-- RemoteBank | AllBank | FollowBank | MasterBank | PlacementBank -->
        <GenericMapping>
            <Bank>
                <Strip name="knob[0]"><Value control="knob[0]" param="value" options="above"/></Strip>
                <Strip name="knob[1]"><Value control="knob[1]" param="value" options="above"/></Strip>
                <Strip name="knob[2]"><Value control="knob[2]" param="value" options="above"/></Strip>
                <Strip name="knob[3]"><Value control="knob[3]" param="value" options="above"/></Strip>
                <Strip name="knob[4]"><Value control="knob[4]" param="value" options="above"/></Strip>
                <Strip name="knob[5]"><Value control="knob[5]" param="value" options="above"/></Strip>
                <Strip name="knob[6]"><Value control="knob[6]" param="value" options="above"/></Strip>
                <Strip name="knob[7]"><Value control="knob[7]" param="value" options="above"/></Strip>
            </Bank>
        </GenericMapping>


        <!-- ******************************************************************************************** -->
        <!-- NOTE PAD SECTION -->
        <!-- ******************************************************************************************** -->



        <PadSection name="PadSessionSectionElement" rows="2" roles="stepedit">
            <foreach variable="$i" count="8">
                <Pad name="sessionHigherPad[$i]" control="sessionHigherPad[$i]">
                    <Value control="sessionHigherPadState[$i]" param="state" />
                    <PlainValue control="sessionHigherPadLED[$i]" param="color" />
                </Pad>
            </foreach>
            <foreach variable="$i" count="8">
                <Pad name="sessionLowerPad[$i]" control="sessionLowerPad[$i]">
                    <Value control="sessionLowerPadState[$i]" param="state" />
                    <PlainValue control="sessionLowerPadLED[$i]" param="color" />
                </Pad>
            </foreach>
        </PadSection>

        <!-- ** Hackable Workaround... Add own user defined pad section to avoid using pad snap colors on other pad sections -->
        <!-- Place below session so the values will override -->
        <PadSection name="PadUserDefinedSectionElement" rows="1" roles="">
            <foreach variable="$i" count="8">
                <ParamVariant using="@global" param="sessionMode" strict="true">
                    <Group value="$SESSION[SETUP_MODE]">
                        <Pad name="sessionHigherPad[$i]" control="sessionHigherPad[$i]">
                            <Value control="sessionHigherPadState[$i]" param="state" />
                            <PlainValue control="sessionHigherPadLED[$i]" param="color" />
                        </Pad>
                    </Group>
                </ParamVariant>
            </foreach>
        </PadSection>

        <PadSection name="PadDrumSectionElement" rows="2" roles="musicinput">
            <foreach variable="$i" count="16">
                <Pad name="drumPad[$i]" control="drumPad[$i]">
                    <Value control="drumPadState[$i]" param="state" />
                    <PlainValue control="drumPadLED[$i]" param="color" />
                </Pad>
            </foreach>
        </PadSection>


        <!-- ******************************************************************************************** -->
        <!-- NOTE MIXER CONSOLE -->
        <!-- ******************************************************************************************** -->
        <DeviceMapping device="MixerConsole" name="MixerElement" onConnect="onHuiMixerConnect">

            <ScrollBank target="FollowBank" name="FocusBankElement">
                <Strip>
                    <ParamVariant param="recordArmed">
                        <Group />
                        <using device="@global">
                            <PlainValue control="recordLED" param="MONO_HALF"/>
                        </using>
                    </ParamVariant>
                </Strip> <!-- element representing the focus channel for use in script -->
            </ScrollBank>

            <ScrollBank target="RemoteBank" pagesize="8" name="RemoteBankElement">
                <!-- The Channel Strips -->
                <ParamVariant using="@global" param="sceneHold" options="nonlatching">
                    <Group />
                    <Group>
                        <ScrollButton control="sessionLowerPad[0]" direction="pageleft" />
                        <ScrollButton control="sessionLowerPad[1]" direction="stepleft" />
                        <ScrollButton control="sessionLowerPad[6]" direction="stepright" />
                        <ScrollButton control="sessionLowerPad[7]" direction="pageright" />
                    </Group>
                </ParamVariant>

                <foreach variable="$channel" count="8">
                    <Strip>
                        <ParamVariant using="@global" param="sessionMode" strict="true">
                            <Group value="$SESSION[HUI_MODE]">

                                <ParamVariant using="@global" param="devicePadMode">
                                    <Group value="$DEVICE_PAD_MODE_SESSION">
                                        <ParamVariant using="@global" param="devicePotMode">
                                            <Group value="$DEVICE_POT_MODE_VOLUME">
                                                <Value control="knob[$channel]" param="volume"/>
                                            </Group>
                                            <Group value="$DEVICE_POT_MODE_PAN">
                                                <Value control="knob[$channel]" param="pan"/>
                                            </Group>
                                        </ParamVariant>
                                    </Group>
                                </ParamVariant>

                                <!-- SELECTION -->
                                <Toggle control="sessionHigherPad[$channel]" param="selected" />
                                <PlainValue control="sessionHigherPadLED[$channel]" param="color" />

                                <ParamVariant param="selected">
                                    <Group />
                                    <using device="@global"> <PlainValue control="sessionHigherPadEffect[$channel]" param="EFFECT_PULSE" /> </using>
                                </ParamVariant>

                                <!-- We make sure the lower pads are inactive when the scene modifier is on -->
                                <ParamVariant using="@global" param="sceneHold" options="nonlatching">
                                    <Group>
                                        <!-- HUI MODE -->
                                        <ParamVariant using="@global" param="huiMode">
                                            <Group value="$HUI_MONITOR_MODE">
                                                <Toggle control="sessionLowerPad[$channel]" param="monitor" />
                                                <ParamVariant param="monitor">
                                                    <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="huiLowerColorOff" /></using>
                                                    <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="huiLowerColorOn" /></using>
                                                </ParamVariant>
                                            </Group>
                                            <Group value="$HUI_ARM_MODE">
                                                <Toggle control="sessionLowerPad[$channel]" param="recordArmed" />
                                                <ParamVariant param="recordArmed">
                                                    <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="huiLowerColorOff" /></using>
                                                    <using device="@global">
                                                        <PlainValue control="sessionLowerPadLED[$channel]" param="huiLowerColorOn" />
                                                        <PlainValue control="sessionLowerPadEffect[$channel]" param="EFFECT_PULSE" />
                                                    </using>
                                                </ParamVariant>
                                            </Group>
                                            <Group value="$HUI_SOLO_MODE">
                                                <Toggle control="sessionLowerPad[$channel]" param="solo" />
                                                <ParamVariant param="solo">
                                                    <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="huiLowerColorOff" /></using>
                                                    <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="huiLowerColorOn" /></using>
                                                </ParamVariant>
                                            </Group>
                                            <Group value="$HUI_MUTE_MODE">
                                                <Toggle control="sessionLowerPad[$channel]" param="mute" />
                                                <ParamVariant param="mute">
                                                    <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="huiLowerColorOff" /></using>
                                                    <using device="@global"><PlainValue control="sessionLowerPadLED[$channel]" param="huiLowerColorOn" /></using>
                                                </ParamVariant>
                                            </Group>
                                        </ParamVariant>
                                    </Group>
                                    <Group />
                                </ParamVariant>

                            </Group>
                        </ParamVariant>
                    </Strip>
                </foreach>
            </ScrollBank>
        </DeviceMapping>


        <!-- ******************************************************************************************** -->
        <!-- NOTE REPEAT MAPPING -->
        <!-- ******************************************************************************************** -->
        <DeviceMapping name="NoteRepeatElement" device="NoteRepeater" onConnect="onConnectNoteRepeat">

            <ParamVariant device="@global" param="devicePadMode">
                <Group value="$DEVICE_PAD_MODE_DRUM">
                    <Invoke control="scene" onReceive="onNoteRepeatButtonPressed" />
                    <ParamVariant param="active">
                        <Group />
                        <using device="@global"><PlainValue control="sceneLED" param="BLUE" /></using>
                    </ParamVariant>
                </Group>
            </ParamVariant>

            <ParamInvoke param="active" onChanged="onActivateNoteRepeat" />
            <ParamInvoke param="spread" onChanged="onSpreadModeChanged" />

            <ParamVariant param="active">
                <Group />
                <Group>
                    <ParamVariant using="@global" param="devicePadMode">
                        <Group value="$DEVICE_PAD_MODE_DRUM">
                            <Value control="knob[0]" param="rate" />
                            <Value control="knob[1]" param="quantize" />
                            <Value control="knob[2]" param="gate" />
                            <Value control="knob[3]" param="pressureHandling" />
                        </Group>
                    </ParamVariant>
                </Group>
            </ParamVariant>
        </DeviceMapping>


        <!-- ******************************************************************************************** -->
        <!-- GLOBAL MAPPING -->
        <!-- ******************************************************************************************** -->
        <Global>

            <Toggle control="shift" param="shiftModifier" options="nonlatching" />
            <Toggle control="sceneHold" param="sceneHold" options="nonlatching" />

            <Value control="devicePadMode" param="devicePadMode" />
            <Value control="devicePotMode" param="devicePotMode" />

            <ParamVariant param="sceneHold">
                <Group />
                <Group>
                    <PlainValue control="sceneLED" param="GREEN" />
                    <PlainValue control="sceneEffect" param="EFFECT_PULSE" />
                </Group>
            </ParamVariant>

            <ParamVariant param="shiftModifier">
                <Invoke control="scene" onReceive="onScenePressed" />
                <Group />
            </ParamVariant>


            <!-- ******************************************************************************************** -->
            <!-- SCENE MODES -->
            <!-- ******************************************************************************************** -->
            <ParamVariant param="devicePadMode" strict="true">

                <Group value="$DEVICE_PAD_MODE_SESSION">

                    <PlainValue control="sceneLED" param="sessionModeColor" />

                    <ParamVariant param="sessionMode" strict="true">

                        <Group value="$SESSION[STEP_EDIT_MODE],$SESSION[EVENT_EDIT_MODE],$SESSION[INSTRUMENT_EDIT_MODE]" default="true">
                            <ParamVariant param="shiftModifier">
                                <Group>
                                    <ParamVariant param="sceneHold">
                                        <Group />
                                        <Command control="ssm" command.category="View" command.name="Editor" />
                                    </ParamVariant>
                                </Group>
                                <Group>
                                    <Invoke control="ssm" onReceive="openEditorAndFocus" />
                                </Group>
                            </ParamVariant>
                        </Group>

                        <Group value="$SESSION[LOOP_EDIT_MODE]">
                            <PlainValue control="sceneEffect" param="EFFECT_PULSE" />
                        </Group>

                        <Group value="$SESSION[HUI_MODE]">
                            <PlainValue control="ssmLED" param="huiColor" />

                            <ParamVariant param="sceneHold" options="nonlatching">
                                <Group>
                                    <Invoke control="ssm" onReceive="onHuiModePressed" />
                                </Group>
                                <Group>
                                    <Command control="ssm" command.category="View" command.name="Console" />
                                    <PlainValue control="sessionLowerPadLED[0]" param="GREEN" />
                                    <PlainValue control="sessionLowerPadLED[1]" param="GREEN_HALF" />
                                    <PlainValue control="sessionLowerPadLED[6]" param="GREEN_HALF" />
                                    <PlainValue control="sessionLowerPadLED[7]" param="GREEN" />
                                </Group>
                            </ParamVariant>
                        </Group>

                        <Group value="$SESSION[SETUP_MODE]">
                            <PlainValue control="sessionLowerPadEffect[0]" param="EFFECT_PULSE" />
                            <PlainValue control="sessionLowerPadEffect[7]" param="EFFECT_BLINK" />

                            <using device="device:///TransportPanel">
                                <Value control="knob[0]" param="tempo" />
                            </using>
                        </Group>

                        <Group value="$SESSION[BANK_MENU_MODE]">
                        </Group>

                    </ParamVariant>
                </Group>

                <Group value="$DEVICE_PAD_MODE_DRUM">
                    <!-- For other Drum Mode settings, see NoteRepeater element -->
                    <!-- <Invoke control="scene" onReceive="onNoteRepeatButtonPressed" /> -->

                    <ParamVariant param="shiftModifier">
                        <Group>
                            <Toggle control="ssm" param="fullVelocityMode" />
                        </Group>
                        <Group>
                        </Group>
                    </ParamVariant>

                    <Invoke control="f_chord" onReceive="togglePadDisplayMode" />
                    <ParamVariant param="padDisplayMode">
                        <PlainValue control="f_chordLED" param="MONO_OFF" />
                        <PlainValue control="f_chordLED" param="MONO_HALF" />
                        <PlainValue control="f_chordLED" param="MONO_FULL" />
                    </ParamVariant>

                    <ParamVariant param="fullVelocityMode">
                        <Group />
                        <Group>
                            <PlainValue control="ssmLED" param="PURPLE" />
                            <PlainValue control="ssmEffect" param="EFFECT_PULSE" />
                        </Group>
                    </ParamVariant>

                    <!-- <ParamVariant using="device:///NoteRepeater" param="active">
                        <Group />
                        <Group>
                            <PlainValue control="sceneLED" param="BLUE" />
                        </Group>
                    </ParamVariant> -->

                </Group>

                <!-- Currently not used -->
                <Group value="$DEVICE_PAD_MODE_CUSTOM"></Group>

            </ParamVariant>

        </Global>

        <!-- ******************************************************************************************** -->
        <!-- NOTE TRANSPORT PANEL -->
        <!-- ******************************************************************************************** -->
        <DeviceMapping device="TransportPanel">
            <Segmented control="timeCode" param="primaryTime"/>

            <ParamVariant param="start">
                <ParamVariant param="loop">
                    <Group />
                    <using device="@global"><PlainValue control="playLED" param="MONO_HALF" /></using>
                </ParamVariant>
                <using device="@global"><PlainValue control="playLED" param="MONO_FULL" /></using>
            </ParamVariant>

            <ParamVariant param="record">
                <Group />
                <using device="@global"><PlainValue control="recordLED" param="MONO_FULL" /></using>
            </ParamVariant>

            <ParamVariant param="loop">
                <Command control="arp" command.category="Transport" command.name="Return to Zero" />
                <Command control="arp" command.category="Transport" command.name="Goto Loop Start" />
            </ParamVariant>

            <ParamVariant using="@global" param="shiftModifier">
                <ParamVariant using="@global" param="sceneHold">
                    <Group><!-- SCENE MODIFER OFF -->
                        <Command control="play" command.category="Transport" command.name="Toggle Start" />
                        <Command control="record" command.category="Transport" command.name="Record" />
                    </Group>
                    <Group><!-- SCENE MODIFER ON -->
                        <Invoke control="play" onReceive="onToggleLoopEditMode" />
                        <Command control="record" command.category="Edit" command.name="Undo" />
                    </Group>
                </ParamVariant>
                <Group>
                    <Toggle control="play" param="loop" />
                    <Command control="record" command.category="Track" command.name="Arm" />
                </Group>
            </ParamVariant>
        </DeviceMapping>

        <!-- ******************************************************************************************** -->
        <!-- NOTE METRONOME MAPPING -->
        <!-- ******************************************************************************************** -->
        <DeviceMapping name="MetronomeElement" device="Metronome">
            <ParamVariant using="@global" param="sessionMode" strict="true">
                <Group value="$SESSION[SETUP_MODE]">
                    <ParamVariant param="clickOn">
                        <using device="@global"> <PlainValue control="sessionLowerPadLED[4]" param="YELLOW_HALF" /> </using>
                        <using device="@global"> <PlainValue control="sessionLowerPadLED[4]" param="GREEN_HALF" /> </using>
                    </ParamVariant>
                    <ParamVariant param="precount">
                        <using device="@global"> <PlainValue control="sessionLowerPadLED[5]" param="YELLOW_HALF" /> </using>
                        <using device="@global"> <PlainValue control="sessionLowerPadLED[5]" param="GREEN" /> </using>
                    </ParamVariant>
                </Group>
            </ParamVariant>
        </DeviceMapping>
    </Mappings>
</ControlSurface>
